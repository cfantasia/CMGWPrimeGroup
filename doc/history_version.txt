22-APR-10 (Edgar, Christos), V00-00-85
======================================
Cleanup of root-macros (contained in and driven by 
UserCode/CMGWPrimeGroup/root_macros/Make.C)
for easier maintainability and in preparation for new cut-optimization 
code


Note on data-format change (pfMET) introduced in V00-00-80:
----------------------------------------------------------
This does not introduce any backwards incompatibility when reading old
root-tuples. However, the speed will be significantly slower, as ROOT 
tries to work around the change. To correct for this inconvenience, one 
can temporarily overwrite UserCode/CMGWPrimeGroup/interface/wprimeEvent.h
with an earlier-than-V00-00-80 version if reading older files. 


20-APR-10 (Christos), V00-00-80
===============================
(1) Changes in analyzer:
- Can now analyze Summer09/31x MC samples (tested with 3_3_6 release)

- Removed storing of Calo-MET, switched to pfMET 


(2) Changes in fitting code:
- Significant boost in speed of fit convergence.

  Details:
  o Speed improvement is approximately a factor of ~5 (exact number 
depends on signal statistics) 
  o Achieved by caching some of the intermediate signal function
calculations in custom map structure.  
  o New code (switched on by default) in file fit_wprime_newAndFast.cpp,
old code kept for reference (fit_wprime_oldAndSlow.cpp). 


- Now keeping track of (Poisson-varying) input # of signal events when
repeating fits in large # of pseudo-experiments 


- Can now handle fits for Wprime mass of 2.0 TeV (in addition to 1.0, 1.5
TeV) 



11-MAR-10 (Christos), V00-00-71
===============================
- Added macro fitting/plot_sigbgd.C: Accesses ROOT file created by
fitSigBgd_eventLoop.C, and plots data distribution, along with fitting
function and fit results 

- Added python files for the processing of 2_2_12 Wprime (1, 1.5, 2 TeV)
and W->mu samples reconstructed with 50 pb^-1 AlCa tag


21-JAN-10 (Christos), V00-00-70
===============================
(1) Added support for running on misaligned Wprime and W samples (for the
rest of background: top, QCD, Z/DY we still use IDEAL alignment)

(2) Added support for fittings mis-aligned samples. Warning! User must
(a) switch to the appropriate resolution ROOT file 
(ie. cp gsmear_IDEAL.root gsmear.root, or
     cp gsmear_50PB-1.root gsmear.root)

(b) switch to appropriate description of background in function myBgd in
 file fitting/fit_wprime.cpp: myRBW (ie. Relativistic Breit-Wigner) works
better for IDEAL W sample, whereas myLandau (i.e. Landau) works better for
50 pb^-1 W sample.

(3) Several other minor improvements


04-NOV-09 (Christos), V00-00-67
===============================
Same as V00-00-66, with the addition of a test configuration file in 
python format (made it default example for macro/setup_Wprime.sh)


29-OCT-09 (Christos), V00-00-66
===============================
Added support for 2_2_x RECO (Wprime_muonreco producer)


21-OCT-09 (Christos), V00-00-65
===============================
Added fitting code used for CMS AN-2009/157. Details and instructions at 
UserCode/CMGWPrimeGroup/fitting/README_mupt_fits.txt


21-OCT-09 (Christos), V00-00-61
===============================
Removed obsolete histogram-making. All analyses are now based on custom
ROOT-tuples. Cleaned-up code validated with root-tuple containing 6k 
wprime events: no changes observed when compared with root-tuple made with
V00-00-56. 


20-OCT-09 (Christos), V00-00-60
================================
- Changes in default cuts: added |eta| < 1.8 for muon, require 
angle(muon, jet) > pi-0.3 for "jet activity" definition

- Changes in GetMuonPtDistribution.C: 
  o added real HLT cut (used to emulate it with |eta_RECO| < 2.1 cut)
  o change jet-activity cut to include angle between jet, muon (default
value: pi - 0.3 rad)
  o added |eta| < 1.8 cut for muon
  o misc. cleanup, moving constants, analysis cuts to new file (util.C)

- New macro that creates charge-asymmetry distributions for all tracking
algorithms: GetChargePtDistribution.C (set option = 3 in
GetDistributionGeneric.C). Macro that makes nice asymmetry plots:
plotChargeAsym.C 

- New macro that plots changes in muon-pt distributions for changes in
various analysis cuts: plotCutTune.C Currently needs manual adjustment of
cuts, rerunning, renaming root-tuples, etc. Should be automatized, find
optimum values. 

- New macro for making (nice) muon-pt distribution: plotMuPt2.C, with 
individual bgd contributions added into a single histogram


24-MAR-09 (Christos), V00-00-56
================================
Added uncertainty on track pt and q/p in output root-tuple. 

(root_macros, muon-pt distribution:) add |eta| < 2.1 cut on muons till we
sort out HLT problems with W samples


16-MAR-09 (Christos), V00-00-55
================================
Added more code under root_macros that produces muon-pt
distributions. Further work on decoupling generic macros (loading of input
files, applications of cross-section * filtering efficiency, etc) from
actual code that produces distributions for different cuts. 


06-MAR-09 (Christos), V00-00-54
================================
Fixing linking problems when compiling ROOT macros


06-MAR-09 (Christos), V00-00-53
================================
Added example ROOT macro that shows how to read back ROOT file

03-MAR-09 (Christos), V00-00-52
===============================
Added version # in output trees (as tree title). Must remember to update
newly added file VERSION before tagging code!


02-MAR-09 (Christos), V00-00-51
===============================
Implemented # of tracker-hits used by fit in tracking component of
wprime::Muon class


02-MAR-09 (Christos), V00-00-50
===============================
Added first version of root-tuple making code. Classes described in
wprimeEvent.h. 

Currently including:
- Job-level info: HLT/RECO version, sample description, # of events at
production level
- Event-level info: generator-level info for muons, muon-neutrinos, W and
W'. Jets, Muons with 3 types of tracking, 5 types of isolation (9 cone
sizes), 3 types of MET, and HLT decisions for single-muon triggers. 

Look at test/myanalysis_TeVMuon.cfg for new variables required.


02-FEB-09 (Alessio), V00-00-34
==============================
Added a parameter that require a minimum muon pt 
as measured in the tracker, for the muon to be
considered in the spectrum above 100 GeV. 
Setting it to 0 means running without the cut.
 
23-JAN-09 (Christos), V00-00-33
===============================
Added filtering code and example cfg file for filtering on high-pt muons
(any muon algorithm giving pt > 100 GeV)


16-JAN-09 (Christos), V00-00-32
===============================
Fixed persistence of trigger efficiency histograms. Fixed bug with 
gen-muon loop in trigger eff histograms. Fixed incorrect HLT path name for
21x release in default config file. 


14-JAN-09 (Alessio), V00-00-31
==============================
Added protection against missing global muon Ref in TeV muon map.


17-NOV-08 (Christos), V00-00-30
================================
Added additional reconstruction code from Silvia and Alessio. CVS package
should now have complete trigger + reconstruction code used to run 
previous jobs. 

TeV-muon reconstruction seems to be responsible for exception-throwing on
certain events; need to add protection so that events are not skipped.


05-NOV-08 (Christos), V00-00-16
================================
First porting of the code. Contains mostly trigger-related stuff. Test
configuration file (test/myanalysis_TeVMuon.cfg) tested on 21x MC files,
but should work in 20x as well.





