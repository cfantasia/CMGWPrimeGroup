#include "../root_macros/CMSStyle.C"

void plotExclusion() {
  CMSstyle();
  gStyle->SetOptStat(0);
  TH2F* frame = new TH2F("frame", "", 100, 175, 1525, 100, 0.1, 10.0);
  //TH2F* frame = new TH2F("frame", "", 100, 200, 1500, 100, 0.1, 10.0);
  frame->GetYaxis()->SetTitle("W'#rightarrowWZ Coupling");
  frame->GetXaxis()->SetTitle("M_{WZ} (GeV)");
  TCanvas* c1 = new TCanvas("c1");
  c1->SetLogy(1);

   float masses[15];
   masses[0] = 200;
   masses[1] = 250;
   masses[2] = 300;
   masses[3] = 400;
   masses[4] = 500;
   masses[5] = 600;
   masses[6] = 700;
   masses[7] = 800;
   masses[8] = 900;
   masses[9] = 1000;
   masses[10] = 1100;
   masses[11] = 1200;
   masses[12] = 1300;
   masses[13] = 1400;
   masses[14] = 1500;

   float masses2D[30];
   masses2D[0] = 200;
   masses2D[29] = 200;
   masses2D[1] = 250;
   masses2D[28] = 250;
   masses2D[2] = 300;
   masses2D[27] = 300;
   masses2D[3] = 400;
   masses2D[26] = 400;
   masses2D[4] = 500;
   masses2D[25] = 500;
   masses2D[5] = 600;
   masses2D[24] = 600;
   masses2D[6] = 700;
   masses2D[23] = 700;
   masses2D[7] = 800;
   masses2D[22] = 800;
   masses2D[8] = 900;
   masses2D[21] = 900;
   masses2D[9] = 1000;
   masses2D[20] = 1000;
   masses2D[10] = 1100;
   masses2D[19] = 1100;
   masses2D[11] = 1200;
   masses2D[18] = 1200;
   masses2D[12] = 1300;
   masses2D[17] = 1300;
   masses2D[13] = 1400;
   masses2D[16] = 1400;
   masses2D[14] = 1500;
   masses2D[15] = 1500;
   float exp[15];
   float obs[15];
   float exp1[30];
   float exp2[30];
   exp[0] = 0.368682301867;
   obs[0] = 0.396238388528;
   exp1[0] = 0.432938987959;
   exp1[29] = 0.295987700115;
   exp2[0] = 0.49662495823;
   exp2[29] = 0.221360059447;
   exp[1] = 0.313506457108;
   obs[1] = 0.390146103386;
   exp1[1] = 0.393770298513;
   exp1[28] = 0.280574604057;
   exp2[1] = 0.447480769569;
   exp2[28] = 0.220050545441;
   exp[2] = 0.206958742773;
   obs[2] = 0.207046185036;
   exp1[2] = 0.235596084073;
   exp1[27] = 0.156871613516;
   exp2[2] = 0.269742287975;
   exp2[27] = 0.083166649121;
   exp[3] = 0.216099018687;
   obs[3] = 0.176646027482;
   exp1[3] = 0.255695103698;
   exp1[26] = 0.200236407969;
   exp2[3] = 0.298313277966;
   exp2[26] = 0.114384564723;
   exp[4] = 0.264067524379;
   obs[4] = 0.293392688937;
   exp1[4] = 0.34215309769;
   exp1[25] = 0.253109354779;
   exp2[4] = 0.413043117279;
   exp2[25] = 0.203969889845;
   exp[5] = 0.304879013064;
   obs[5] = 0.279078107375;
   exp1[5] = 0.378573815541;
   exp1[24] = 0.273052746167;
   exp2[5] = 0.456250671319;
   exp2[24] = 0.228944012189;
   exp[6] = 0.410129350147;
   obs[6] = 0.437092687395;
   exp1[6] = 0.481600661895;
   exp1[23] = 0.370980918495;
   exp2[6] = 0.571078311873;
   exp2[23] = 0.357632116732;
   exp[7] = 0.487646933063;
   obs[7] = 0.492457053143;
   exp1[7] = 0.596561794883;
   exp1[22] = 0.469093612753;
   exp2[7] = 0.691982303342;
   exp2[22] = 0.463939912667;
   exp[8] = 0.578499345609;
   obs[8] = 0.536684820941;
   exp1[8] = 0.683289154041;
   exp1[21] = 0.530388883989;
   exp2[8] = 0.83124768536;
   exp2[21] = 0.515064811028;
   exp[9] = 0.718540341091;
   obs[9] = 0.699875526819;
   exp1[9] = 0.824058789945;
   exp1[20] = 0.689451404131;
   exp2[9] = 1.0120004248;
   exp2[20] = 0.643916300634;
   exp[10] = 0.916527297658;
   obs[10] = 0.889552650894;
   exp1[10] = 1.07535257129;
   exp1[19] = 0.843813032468;
   exp2[10] = 1.27502730668;
   exp2[19] = 0.704473061536;
   exp[11] = 1.20856584659;
   obs[11] = 1.17469739649;
   exp1[11] = 1.4189302183;
   exp1[18] = 1.13916982272;
   exp2[11] = 1.67904670098;
   exp2[18] = 0.991900028217;
   exp[12] = 1.601384258;
   obs[12] = 1.59065425931;
   exp1[12] = 1.87613894525;
   exp1[17] = 1.54468107115;
   exp2[12] = 2.22423685956;
   exp2[17] = 1.34327544437;
   exp[13] = 2.37754505795;
   obs[13] = 2.34944575935;
   exp1[13] = 2.4694819076;
   exp1[16] = 2.19408193464;
   exp2[13] = 3.06769834917;
   exp2[16] = 2.11287349052;
   exp[14] = 3.25112114774;
   obs[14] = 3.23798910979;
   exp1[14] = 3.36649548117;
   exp1[15] = 3.04627498032;
   exp2[14] = 4.15617868489;
   exp2[15] = 2.91227787781;

  TGraph* grExp = new TGraph(15, masses, exp);
  TGraph* grObs = new TGraph(15, masses, obs);
  TGraph* grExp1 = new TGraph(30, masses2D, exp1);
  TGraph* grExp2 = new TGraph(30, masses2D, exp2);

  grExp->SetLineColor(kBlack);
  grExp->SetMarkerColor(kBlack);
  grExp->SetLineStyle(kDashed);
  grObs->SetLineColor(kBlack);
  grObs->SetMarkerColor(kBlack);
  grObs->SetMarkerStyle(20);
  grExp1->SetFillStyle(1001);
  grExp1->SetFillColor(kYellow);
  //grExp1->SetLineColor(kYellow);
  grExp2->SetFillStyle(1001);
  grExp2->SetFillColor(kGreen);
  //grExp2->SetLineColor(kGreen);

  frame->Draw();
  grExp2->Draw("F");
  grExp1->Draw("F");
  grExp->Draw("L");
  grObs->Draw("P");
  TLine* line = new TLine(200, 1, 1500, 1);
  //line->SetLineWidth(2);
  //line->SetLineStyle(2);
  line->Draw();

  TLegend* leg = new TLegend(0.2, 0.62, 0.58, 0.92);
  leg->AddEntry(grExp, "Exp. Limit", "l");
  leg->AddEntry(grExp1, "Exp. #pm 1#sigma", "f");
  leg->AddEntry(grExp2, "Exp. #pm 2#sigma", "f");
  leg->AddEntry(grObs, "Obs. Limit", "p");
  leg->AddEntry(line, "SSM W'#rightarrowWZ Coupling", "l");
  leg->SetBorderSize(0);
  leg->SetFillColor(0);
  leg->Draw();

  c1->RedrawAxis();
  c1->Print("wprimewz_limits.gif");
  c1->Print("wprimewz_limits.pdf");
}
