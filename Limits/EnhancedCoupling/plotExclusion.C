#include "../../root_macros/CMSStyle.C"
#include "../../root_macros/setTDR_modified.C"
void plotExclusion() {
   gStyle->SetOptStat(0);
   setTDRStyle();
   gROOT->ForceStyle();
   TH2F* frame = new TH2F("frame", "", 100, 150, 2050, 100, 0.05, 10.0);
   frame->GetYaxis()->SetTitle("W'WZ coupling");
   frame->GetXaxis()->SetTitle("M(W') (GeV)");
   TCanvas* c1 = new TCanvas("c1");
   c1->SetLogy(1);

   float masses[19];
   masses[0] = 200;
   masses[1] = 300;
   masses[2] = 400;
   masses[3] = 500;
   masses[4] = 600;
   masses[5] = 700;
   masses[6] = 800;
   masses[7] = 900;
   masses[8] = 1000;
   masses[9] = 1100;
   masses[10] = 1200;
   masses[11] = 1300;
   masses[12] = 1400;
   masses[13] = 1500;
   masses[14] = 1600;
   masses[15] = 1700;
   masses[16] = 1800;
   masses[17] = 1900;
   masses[18] = 2000;

   float masses2D[38];
   masses2D[0] = 200;
   masses2D[37] = 200;
   masses2D[1] = 300;
   masses2D[36] = 300;
   masses2D[2] = 400;
   masses2D[35] = 400;
   masses2D[3] = 500;
   masses2D[34] = 500;
   masses2D[4] = 600;
   masses2D[33] = 600;
   masses2D[5] = 700;
   masses2D[32] = 700;
   masses2D[6] = 800;
   masses2D[31] = 800;
   masses2D[7] = 900;
   masses2D[30] = 900;
   masses2D[8] = 1000;
   masses2D[29] = 1000;
   masses2D[9] = 1100;
   masses2D[28] = 1100;
   masses2D[10] = 1200;
   masses2D[27] = 1200;
   masses2D[11] = 1300;
   masses2D[26] = 1300;
   masses2D[12] = 1400;
   masses2D[25] = 1400;
   masses2D[13] = 1500;
   masses2D[24] = 1500;
   masses2D[14] = 1600;
   masses2D[23] = 1600;
   masses2D[15] = 1700;
   masses2D[22] = 1700;
   masses2D[16] = 1800;
   masses2D[21] = 1800;
   masses2D[17] = 1900;
   masses2D[20] = 1900;
   masses2D[18] = 2000;
   masses2D[19] = 2000;
   float exp[19];
   float obs[19];
   float exp1[38];
   float exp2[38];
   exp[0] = 0.22914568616;
   obs[0] = 0.247108572911;
   exp1[0] = 0.271170688283;
   exp1[37] = 0.198115490229;
   exp2[0] = 0.338770825152;
   exp2[37] = 0.142013128535;
   exp[1] = 0.152869464694;
   obs[1] = 0.209268711567;
   exp1[1] = 0.206218649831;
   exp1[36] = 0.103516454544;
   exp2[1] = 0.237368814406;
   exp2[36] = 0.0765178843525;
   exp[2] = 0.152049704565;
   obs[2] = 0.205149812555;
   exp1[2] = 0.206773069134;
   exp1[35] = 0.107929774761;
   exp2[2] = 0.237682080284;
   exp2[35] = 0.0794478480925;
   exp[3] = 0.189640370886;
   obs[3] = 0.14365242493;
   exp1[3] = 0.227165923732;
   exp1[34] = 0.13104312365;
   exp2[3] = 0.268451807412;
   exp2[34] = 0.0988317994417;
   exp[4] = 0.227182442153;
   obs[4] = 0.226603941001;
   exp1[4] = 0.269804125563;
   exp1[33] = 0.191999980222;
   exp2[4] = 0.337786158737;
   exp2[33] = 0.138414812138;
   exp[5] = 0.250442191632;
   obs[5] = 0.237186547108;
   exp1[5] = 0.301366244781;
   exp1[32] = 0.212091020266;
   exp2[5] = 0.374337369055;
   exp2[32] = 0.187060252766;
   exp[6] = 0.298187728481;
   obs[6] = 0.37814961202;
   exp1[6] = 0.365079824759;
   exp1[31] = 0.245372362046;
   exp2[6] = 0.427437047191;
   exp2[31] = 0.223223718492;
   exp[7] = 0.366522597062;
   obs[7] = 0.452507588222;
   exp1[7] = 0.444889735078;
   exp1[30] = 0.315024326073;
   exp2[7] = 0.53414468318;
   exp2[30] = 0.277661452299;
   exp[8] = 0.415611640677;
   obs[8] = 0.345741741641;
   exp1[8] = 0.51661179901;
   exp1[29] = 0.348026046386;
   exp2[8] = 0.617998905307;
   exp2[29] = 0.341279378882;
   exp[9] = 0.494231803892;
   obs[9] = 0.426176168791;
   exp1[9] = 0.581173286823;
   exp1[28] = 0.428653278799;
   exp2[9] = 0.671246922642;
   exp2[28] = 0.423174295159;
   exp[10] = 0.526720843816;
   obs[10] = 0.623342290926;
   exp1[10] = 0.642364101682;
   exp1[27] = 0.517150366152;
   exp2[10] = 0.8065254435;
   exp2[27] = 0.509676445923;
   exp[11] = 0.614906738825;
   obs[11] = 0.717026430922;
   exp1[11] = 0.736561097381;
   exp1[26] = 0.60254488136;
   exp2[11] = 0.938449584047;
   exp2[26] = 0.593612238487;
   exp[12] = 0.741154538579;
   obs[12] = 0.871410622372;
   exp1[12] = 1.00466159815;
   exp1[25] = 0.723996605343;
   exp2[12] = 1.14516772961;
   exp2[25] = 0.714423387627;
   exp[13] = 0.90587838257;
   obs[13] = 1.06476137173;
   exp1[13] = 1.10593022179;
   exp1[24] = 0.88668825556;
   exp2[13] = 1.40262119626;
   exp2[24] = 0.87572010538;
   exp[14] = 1.09712351946;
   obs[14] = 1.29614061269;
   exp1[14] = 1.32427973303;
   exp1[23] = 1.07869015627;
   exp2[14] = 1.67958979408;
   exp2[23] = 1.06696526326;
   exp[15] = 1.32879187971;
   obs[15] = 1.57395201427;
   exp1[15] = 1.60073462218;
   exp1[22] = 1.30463918488;
   exp2[15] = 2.05306753758;
   exp2[22] = 1.29039656484;
   exp[16] = 1.58911269964;
   obs[16] = 1.88526042938;
   exp1[16] = 1.92782986769;
   exp1[21] = 1.56147591082;
   exp2[16] = 2.4725115252;
   exp2[21] = 1.5413794478;
   exp[17] = 1.94874638813;
   obs[17] = 1.92451766902;
   exp1[17] = 2.38497715269;
   exp1[20] = 1.91920529801;
   exp2[17] = 2.79937545568;
   exp2[20] = 1.89931980115;
   exp[18] = 2.33281109824;
   obs[18] = 2.29219583408;
   exp1[18] = 2.87369128871;
   exp1[19] = 2.30133019068;
   exp2[18] = 3.388081622;
   exp2[19] = 2.2757213695;
   TGraph* grExp = new TGraph(19, masses, exp);
   TGraph* grObs = new TGraph(19, masses, obs);
   TGraph* grExp1 = new TGraph(38, masses2D, exp1);
   TGraph* grExp2 = new TGraph(38, masses2D, exp2);

   grExp->SetLineColor(kBlack);
   grExp->SetMarkerColor(kBlack);
   grExp->SetLineStyle(kDashed);
   grObs->SetLineColor(kBlack);
   grObs->SetMarkerColor(kBlack);
   grExp1->SetFillStyle(1001);
   grExp1->SetFillColor(kGreen);
   //grExp1->SetLineColor(kGreen);
   grExp2->SetFillStyle(1001);
   grExp2->SetFillColor(kYellow);
   //grExp2->SetLineColor(kYellow);
   grExp->SetLineWidth(3);
   grObs->SetLineWidth(3);
   frame->Draw();
   frame->GetXaxis()->SetNdivisions(505);
   grExp2->Draw("F");
   grExp1->Draw("F");
   grExp->Draw("C");
   grObs->Draw("C");
   TLine* line = new TLine(150, 1, 2050, 1);
   line->SetLineWidth(3);
   line->SetLineStyle(1);
   line->SetLineColor(kBlue);
   line->Draw();
  TLatex latexLabel;
  latexLabel.SetNDC();
  latexLabel.SetTextSize(0.05);
  latexLabel.SetTextFont(42);
  latexLabel.DrawLatex(0.33, 0.96, "CMS Preliminary 2012");
  latexLabel.DrawLatex(0.59, 0.30, "#sqrt{s} = 8 TeV");
  latexLabel.DrawLatex(0.57, 0.20, Form("#intL dt = %.1f fb^{-1}",19.6));

   TLegend* leg = new TLegend(0.17, 0.62, 0.58, 0.92);
   leg->AddEntry(grObs, "Obs. 95% C.L.", "l");
   leg->AddEntry(grExp, "Exp. 95% C.L.", "l");
   leg->AddEntry(grExp1, "Exp. #pm 1#sigma", "f");
   leg->AddEntry(grExp2, "Exp. #pm 2#sigma", "f");
   leg->AddEntry(line, "SSM W'WZ coupling", "l");
   leg->SetTextSize(0.05);
   leg->SetTextFont(42);
   leg->SetBorderSize(0);
   leg->SetFillStyle(0);
   leg->Draw();



   c1->RedrawAxis();
   c1->Print("coupling.pdf");
}
